From 9136219f77628e17b1de4358b945d5d51670b327 Mon Sep 17 00:00:00 2001
From: Poncho <poncho@spahan.ch>
Date: Tue, 13 Apr 2021 09:50:20 +0200
Subject: [PATCH 2/5] require >=bison-3.4

Unfortunately, the "%define api.header.include" synthax is not compatible with
older versions of bison [1]

[1] https://lists.gnu.org/archive/html/bug-bison/2020-08/msg00014.html
---
 src/Core/DataFilter.y     | 1 +
 src/Core/RideDB.y         | 2 ++
 src/FileIO/JsonRideFile.y | 1 +
 3 files changed, 4 insertions(+)

diff --git a/src/Core/DataFilter.y b/src/Core/DataFilter.y
index 3d4e914ee..08f1716a6 100644
--- a/src/Core/DataFilter.y
+++ b/src/Core/DataFilter.y
@@ -49,6 +49,7 @@ extern Leaf *DataFilterroot; // root node for parsed statement
 
 %}
 
+%require "3.4"
 // generated by the scanner
 %define api.header.include {"DataFilter_yacc.h"}
 
diff --git a/src/Core/RideDB.y b/src/Core/RideDB.y
index f2001e23c..3087114a8 100644
--- a/src/Core/RideDB.y
+++ b/src/Core/RideDB.y
@@ -40,6 +40,8 @@ void RideDBerror(void*jc, const char *error) // used by parser aka yyerror()
 #define scanner jc->scanner
 
 %}
+
+%require "3.4"
 // generated by the scanner
 %define api.header.include {"RideDB_yacc.h"}
 
diff --git a/src/FileIO/JsonRideFile.y b/src/FileIO/JsonRideFile.y
index d5c77a779..c5e6b8e77 100644
--- a/src/FileIO/JsonRideFile.y
+++ b/src/FileIO/JsonRideFile.y
@@ -106,6 +106,7 @@ static QString protect(const QString string)
 
 %}
 
+%require "3.4"
 // generated by the scanner
 %define api.header.include {"JsonRideFile_yacc.h"}
 
-- 
2.26.3

