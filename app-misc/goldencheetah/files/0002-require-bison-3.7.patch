From 84f2781907ca9057e875ab80d6bc8131722b5703 Mon Sep 17 00:00:00 2001
From: Poncho <poncho@spahan.ch>
Date: Mon, 7 Sep 2020 09:53:31 +0200
Subject: [PATCH 2/2] require >=bison-3.7

Unfortunately, the "%define api.header.include" synthax is not compatible with
older bison versions [1]

[1] https://lists.gnu.org/archive/html/bug-bison/2020-08/msg00014.html
---
 src/Core/DataFilter.y     | 1 +
 src/Core/RideDB.y         | 2 ++
 src/FileIO/JsonRideFile.y | 1 +
 3 files changed, 4 insertions(+)

diff --git a/src/Core/DataFilter.y b/src/Core/DataFilter.y
index 3d4e914ee..ffc721bd2 100644
--- a/src/Core/DataFilter.y
+++ b/src/Core/DataFilter.y
@@ -49,6 +49,7 @@ extern Leaf *DataFilterroot; // root node for parsed statement
 
 %}
 
+%require "3.7"
 // generated by the scanner
 %define api.header.include {"DataFilter_yacc.h"}
 
diff --git a/src/Core/RideDB.y b/src/Core/RideDB.y
index 86f8a2ec9..1db997309 100644
--- a/src/Core/RideDB.y
+++ b/src/Core/RideDB.y
@@ -40,6 +40,8 @@ void RideDBerror(void*jc, const char *error) // used by parser aka yyerror()
 #define scanner jc->scanner
 
 %}
+
+%require "3.7"
 // generated by the scanner
 %define api.header.include {"RideDB_yacc.h"}
 
diff --git a/src/FileIO/JsonRideFile.y b/src/FileIO/JsonRideFile.y
index d5c77a779..914e396af 100644
--- a/src/FileIO/JsonRideFile.y
+++ b/src/FileIO/JsonRideFile.y
@@ -106,6 +106,7 @@ static QString protect(const QString string)
 
 %}
 
+%require "3.7"
 // generated by the scanner
 %define api.header.include {"JsonRideFile_yacc.h"}
 
-- 
2.26.2

