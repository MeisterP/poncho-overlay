From 3fbef5c9b0dee2106537a6718e2380eaa6e27f15 Mon Sep 17 00:00:00 2001
From: Hiltjo Posthuma <hiltjo@codemadness.org>
Date: Thu, 7 Feb 2019 21:00:06 +0100
Subject: [PATCH 2/8] change order of commits in log from most recent to old to
 applied order

---
 LICENSE        | 2 +-
 stagit-index.c | 1 -
 stagit.1       | 6 +++---
 stagit.c       | 2 --
 4 files changed, 4 insertions(+), 7 deletions(-)

diff --git a/LICENSE b/LICENSE
index 3dc99fe..1305e35 100644
--- a/LICENSE
+++ b/LICENSE
@@ -1,6 +1,6 @@
 MIT/X Consortium License
 
-(c) 2015-2018 Hiltjo Posthuma <hiltjo@codemadness.org>
+(c) 2015-2019 Hiltjo Posthuma <hiltjo@codemadness.org>
 (c) 2015-2016 Dimitris Papastamos <sin@2f30.org>
 
 Permission is hereby granted, free of charge, to any person obtaining a
diff --git a/stagit-index.c b/stagit-index.c
index ab47e48..accb1a5 100644
--- a/stagit-index.c
+++ b/stagit-index.c
@@ -105,7 +105,6 @@ writelog(FILE *fp)
 
 	git_revwalk_new(&w, repo);
 	git_revwalk_push_head(w);
-	git_revwalk_sorting(w, GIT_SORT_TIME);
 	git_revwalk_simplify_first_parent(w);
 
 	if (git_revwalk_next(&id, w) ||
diff --git a/stagit.1 b/stagit.1
index 3e9a77a..360f716 100644
--- a/stagit.1
+++ b/stagit.1
@@ -1,4 +1,4 @@
-.Dd Januari 21, 2018
+.Dd February 6, 2019
 .Dt STAGIT 1
 .Os
 .Sh NAME
@@ -46,8 +46,8 @@ Atom XML feed
 .It files.html
 List of files in the latest tree, linking to the file.
 .It log.html
-List of commits in order of most recent to old of the commits (top to bottom),
-each commit links to a page with a diffstat and diff of the commit.
+List of commits in reverse chronological applied commit order, each commit
+links to a page with a diffstat and diff of the commit.
 .It refs.html
 Lists references of the repository such as branches and tags.
 .El
diff --git a/stagit.c b/stagit.c
index c2b2f2c..b8abea3 100644
--- a/stagit.c
+++ b/stagit.c
@@ -606,7 +606,6 @@ writelog(FILE *fp, const git_oid *oid)
 
 	git_revwalk_new(&w, repo);
 	git_revwalk_push(w, oid);
-	git_revwalk_sorting(w, GIT_SORT_TIME);
 	git_revwalk_simplify_first_parent(w);
 
 	while (!git_revwalk_next(&id, w)) {
@@ -736,7 +735,6 @@ writeatom(FILE *fp)
 
 	git_revwalk_new(&w, repo);
 	git_revwalk_push_head(w);
-	git_revwalk_sorting(w, GIT_SORT_TIME);
 	git_revwalk_simplify_first_parent(w);
 
 	for (i = 0; i < m && !git_revwalk_next(&id, w); i++) {
-- 
2.21.0

